# Performance test

**fio main parameter description**

Jens Axboe, author of fio, is the maintainer of core IO part of linux, supporting all IO protocol stack under Linux.

----------


<table class="confluenceTable tablesorter tablesorter-default" style="color: rgb(51, 51, 51); margin: 0px; overflow-x: auto;" width="718"><thead><tr class="tablesorter-headerRow firstRow"><th class="confluenceTh sortableHeader" style="border: 1px solid rgb(221, 221, 221); padding: 7px 15px 7px 10px; vertical-align: top; text-align: left; background: right center no-repeat rgb(240, 240, 240); color: rgb(0, 0, 0); cursor: pointer; user-select: none;"><p>parameter</p></th><th class="confluenceTh sortableHeader" style="border: 1px solid rgb(221, 221, 221); padding: 7px 15px 7px 10px; vertical-align: top; text-align: left; background: right center no-repeat rgb(240, 240, 240); color: rgb(0, 0, 0); cursor: pointer; user-select: none;"><p>description</p></th></tr></thead><tbody><tr><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; word-break: break-all;" width="66"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">--bs</span></td><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="332"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">Block size for I/O units.</span></td></tr><tr><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="66"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">--direct</span></td><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="332"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">no buffered IO</span></td></tr><tr><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="66"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">--iodepth</span></td><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="332"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">the queue length of a batch of requests is submitted at one time in asynchronous IO mode </span></td></tr><tr><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="66"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">--ioengine</span></td><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="332"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">IO mode supports libaio, sync, psync, vsync, etc.</span></td></tr><tr><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="66"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">--norandommap</span></td><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="332"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">In general, when fio is doing random IO, every block of the file will be replaced. In case of this setting of options, fio will only obtain one new random offset, rather than searching the history. This means that some blocks may be not read or written while some blocks may be read/written for many times. </span></td></tr><tr><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="66"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">--numjobs</span></td><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="332"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">concurrent process/thread count</span></td></tr><tr><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="66"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">--runtime</span></td><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="332"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">execution time</span></td></tr><tr><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="66"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">--rw</span></td><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="332"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">read-write mode</span></td></tr><tr><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top;" width="66"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">--size</span></td><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; word-break: break-all;" width="332"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;”>IO test file size</span></td></tr></tbody></table>

----------

## Disk performance test method

- Random write

```
fio -ioengine=libaio -numjobs=64 -bs=4k -direct=1 -rw=randwrite -size=20G -filename=/root/randwrite_20G -name=test -iodepth=32 -runtime=120 --group_reporting --output=/root/fio_test/hdd_randwrite_4k
```

- Random read


```
fio -ioengine=libaio -numjobs=64 -bs=4k -direct=1 -rw=randread -size=20G -filename=/root/randread_20G -name=test -iodepth=32 -runtime=120 --group_reporting --output=/root/fio_test/hdd_randread_4k
```

- Sequential read


```
fio -ioengine=libaio -numjobs=64 -bs=1M -direct=1 -rw=read -size=10G -filename=/root/read_10G -name=test -iodepth=32 -runtime=120 --group_reporting --output=/root/fio_test/read_1M
```

- Sequential write


```
fio -ioengine=libaio -numjobs=64 -bs=1M -direct=1 -rw=write -size=10G -filename=/root/write_10G -name=test -iodepth=32 -runtime=120 --group_reporting --output=/root/fio_test/write_1
```



Description of generated group_report data items:


----------


<table class="confluenceTable tablesorter tablesorter-default" style="color: rgb(51, 51, 51); margin: 0px 0px 0px 60px; overflow-x: auto;"><thead style="margin-left: 60px;"><tr class="tablesorter-headerRow firstRow" style="margin-left: 60px;"><th class="confluenceTh sortableHeader" style="border: 1px solid rgb(221, 221, 221); padding: 7px 15px 7px 10px; vertical-align: top; text-align: left; background: right center no-repeat rgb(240, 240, 240); color: rgb(0, 0, 0); cursor: pointer; margin-left: 60px; user-select: none; word-break: break-all;"><p><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">data item</span></p></th><th class="confluenceTh sortableHeader" style="border: 1px solid rgb(221, 221, 221); padding: 7px 15px 7px 10px; vertical-align: top; text-align: left; background: right center no-repeat rgb(240, 240, 240); color: rgb(0, 0, 0); cursor: pointer; margin-left: 60px; user-select: none;"><p><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;”>description</span></p></th></tr></thead><tbody style="margin-left: 60px;"><tr style="margin-left: 60px;"><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px; word-break: break-all;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">io</span></td><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">how much M of IO is executed</span></td></tr><tr style="margin-left: 60px;"><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">bw</span></td><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">average IO bandwidth</span></td></tr><tr style="margin-left: 60px;"><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">iops</span></td><td class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">IOPS</span></td></tr><tr style="margin-left: 60px;"><td colspan="1" class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">runt</span></td><td colspan="1" class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;”>operation time</span></td></tr><tr style="margin-left: 60px;"><td colspan="1" class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">slat</span></td><td colspan="1" class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">submission delayed</span></td></tr><tr style="margin-left: 60px;"><td colspan="1" class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">clat</span></td><td colspan="1" class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">completion delayed</span></td></tr><tr style="margin-left: 60px;"><td colspan="1" class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">lat</span></td><td colspan="1" class="confluenceTd" style="border: 1px solid rgb(221, 221, 221); padding: 7px 10px; vertical-align: top; margin-left: 60px;"><span style="font-family: Microsoft YaHei, &quot;Microsoft YaHei&quot;; font-size: 14px;">response time</span></td></tr></tbody></table>





